(this.webpackJsonpgobits=this.webpackJsonpgobits||[]).push([[0],{36:function(e,t,a){e.exports=a(71)},41:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(14),r=a.n(s),l=(a(41),a(3)),c=a(4),d=a(5),i=a(6),u=a(33),p=a.n(u),h=a(20),f=a(7),g=a.n(f),m=a(16),k=a.n(m),v=function(e){return n.a.createElement("div",null,n.a.createElement("p",null,"Gold amount ",e.goldAmount))},y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:void 0,selectedCategory:"uncategorized"},e.handleAddTask=function(t){t.preventDefault();var a=e.props.focusedDate,o=t.target.elements.task.value.trim(),n=t.target.elements.goals?t.target.elements.goals.value:e.props.goalId,s=e.props.handleAddTask(o,a,n);e.setState((function(){return{error:s}})),s||(t.target.elements.task.value="")},e.handleChangeCategory=function(t){var a=t.target.value;e.setState((function(){return{selectedCategory:a}}))},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.error&&n.a.createElement("p",null,this.state.error),n.a.createElement("form",{onSubmit:this.handleAddTask},n.a.createElement("input",{type:"text",name:"task"}),n.a.createElement("button",null,n.a.createElement("span",{className:"fa fa-plus"}))))}}]),a}(n.a.Component),C=function(e){var t=["fa","fa-thumbs-up",e.task.completedAt?"completedThumbsUp":"notCompletedThumbsUp"].join(" "),a=["fa","fa-thumbs-down",e.task.completedAt?"completedThumbsDown":"notCompletedThumbsDown"].join(" "),o=e.goalId?e.goalId:void 0,s=g()().add(1,"days").format("YYYY-MM-DD"),r={borderBottomColor:e.color?e.color:"#fc846b"};return n.a.createElement("li",{className:e.task.completedAt?"completed task":"notCompleted task",style:r},n.a.createElement("div",null,e.task.title,"dashboard"===e.display&&e.task.date),n.a.createElement("div",null,n.a.createElement("span",{className:t,onClick:function(t){console.log("handle check"),e.handleCheck(e.task.id,o)}}),n.a.createElement("span",{className:a,onClick:function(t){console.log("handle uncheck"),e.handleThumbsDown(e.task.id,o)}},e.task.rejectedCount),n.a.createElement("span",{className:"fa fa-trash",onClick:function(t){e.handleDeleteTask(e.task.id,o)}}),n.a.createElement("span",{className:"fa fa-edit",onClick:function(t){e.handleFocusTask(e.task.id)}}),function(){if(!e.task.completedAt&&g()(e.task.date)<=g()())return n.a.createElement("span",{className:"fa fa-arrow-right",onClick:function(t){e.handleUpdateTask(e.task.id,e.task.title,s,e.task.goal)}})}()))},b=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h2",null,"(Ha)bits"),function(){if(e.props.tasks)return e.props.tasks.map((function(t,a){return n.a.createElement(C,{key:t.id,task:t,goalId:e.props.goalId,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleFocusTask:e.props.handleFocusTask,handleUpdateTask:e.props.handleUpdateTask,display:e.props.display,color:e.props.getTaskColor(t)})}))}())}}]),a}(n.a.Component),E=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:void 0},e.handleAddCategory=function(t){t.preventDefault();var a=t.target.elements.category.value.trim(),o=e.props.handleAddCategory(a);e.setState((function(){return{error:o}})),o||(t.target.elements.category.value="")},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.error&&n.a.createElement("p",null,this.state.error),n.a.createElement("form",{onSubmit:this.handleAddCategory},n.a.createElement("input",{type:"text",name:"category"}),n.a.createElement("button",null,n.a.createElement("span",{className:"fa fa-plus"}))))}}]),a}(n.a.Component),T=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).changeFocusedCategory=function(){e.props.changeFocusedCategory(e.props.category.id)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("li",{className:this.props.category.id===this.props.focusedCategory?"selected":null},n.a.createElement("a",{onClick:this.changeFocusedCategory},this.props.category.title),"uncategorized"!==this.props.category.id&&n.a.createElement("span",{className:"fa fa-trash",onClick:function(t){e.props.handleDeleteCategory(e.props.category.id)}}))}}]),a}(n.a.Component),D=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h2",null,"Categories"),n.a.createElement("ul",null,this.props.categories.map((function(t,a){return n.a.createElement(T,{key:t.id,category:t,focusedCategory:e.props.focusedCategory,changeFocusedCategory:e.props.changeFocusedCategory,handleDeleteCategory:e.props.handleDeleteCategory})}))))}}]),a}(n.a.Component),G=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:void 0},e.handleAddGoal=function(t){t.preventDefault();var a=t.target.elements.date.value,o=t.target.elements.goal.value.trim(),n=e.props.handleAddGoal(o,a,e.props.category);e.setState((function(){return{error:n}})),n||(t.target.elements.goal.value="")},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.error&&n.a.createElement("p",null,this.state.error),n.a.createElement("form",{onSubmit:this.handleAddGoal},n.a.createElement("input",{type:"text",name:"goal"}),n.a.createElement("input",{type:"date",name:"date"}),n.a.createElement("button",null,n.a.createElement("span",{className:"fa fa-plus"}))))}}]),a}(n.a.Component),F=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).changeFocusedGoal=function(){e.props.changeFocusedGoal(e.props.goal.id)},e.addClassNames=function(){var t=[];return t.push(e.props.goal.completedAt?"completed":"notCompleted"),t.push(e.props.goal.id===e.props.focusedGoal?"selected":null),t.join(" ")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={borderBottomColor:this.props.goal.color?this.props.goal.color:"#fc846b"};return n.a.createElement("li",{className:this.addClassNames(),style:t},n.a.createElement("a",{onClick:this.changeFocusedGoal},this.props.goal.abbrevCode,"::",this.props.goal.title," by ",this.props.goal.date),!this.props.goal.id.includes("uncategorized")&&n.a.createElement("span",{className:"fa fa-trash",onClick:function(t){e.props.handleDeleteGoal(e.props.goal.id)}}),n.a.createElement("span",{className:"fa fa-edit",onClick:function(t){e.props.handleFocusEditGoal(e.props.goal.id)}}))}}]),a}(n.a.Component),w=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("h2",null,"Go(als)"),this.props.goals.map((function(t,a){return n.a.createElement(F,{key:t.id,goal:t,focusedGoal:e.props.focusedGoal,changeFocusedGoal:e.props.changeFocusedGoal,handleDeleteGoal:e.props.handleDeleteGoal,handleFocusEditGoal:e.props.handleFocusEditGoal})})))}}]),a}(n.a.Component),A=a(15);A.initializeApp({apiKey:"AIzaSyBf31HB-qBKXnVRON9tXOewa7AP3qmKHe8",authDomain:"gobits-5da88.firebaseapp.com",databaseURL:"https://gobits-5da88.firebaseio.com",projectId:"gobits-5da88",storageBucket:"gobits-5da88.appspot.com",messagingSenderId:"205969372015",appId:"1:205969372015:web:d2ec5bec171a44f9532e9a",measurementId:"G-Q6582VGBYH"});var S=A.database(),O=new A.auth.GoogleAuthProvider,j=function(e){return n.a.createElement("div",{id:"header"},n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("p",{id:"headliner"},e.title),n.a.createElement("p",{id:"tagliner"},e.subtitle)),n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("p",{id:"user"},e.user),n.a.createElement("a",{onClick:function(){return A.auth().signOut()}},"Log Out")))},N=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.current?"week-highlighted":"";return n.a.createElement("div",{className:"today"},n.a.createElement("p",{className:t},this.props.focusedDate),function(){if(e.props.tasks)return e.props.tasks.map((function(t,a){return n.a.createElement(C,{key:t.id,task:t,goalId:void 0,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleFocusTask:e.props.handleFocusTask,handleUpdateTask:e.props.handleUpdateTask,display:e.props.display,color:e.props.getTaskColor(t)})}))}(),n.a.createElement(y,{goalId:this.props.focusedGoal,handleAddTask:this.props.handleAddTask,display:this.props.display,focusedDate:this.props.focusedDate,goals:this.props.goals,categories:this.props.categories}))}}]),a}(n.a.Component),Y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleChangeView=function(t){var a=t.target.value;e.props.changeView(a)},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"navbar-wrapper"},n.a.createElement("button",{className:"navbar",value:"dashboard",onClick:this.handleChangeView},"View Dashboard"),n.a.createElement("button",{className:"navbar",value:"today",onClick:this.handleChangeView},"View Today"),n.a.createElement("button",{className:"navbar",value:"week",onClick:this.handleChangeView},"View Week"))}}]),a}(n.a.Component),U=a(21),I=a.n(U),M=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:void 0,selectedCategory:"uncategorized",selectedGoal:"uncategorized-goal"},e.handleUpdateTask=function(t){t.preventDefault();var a=e.props.editTask.id,o=(e.props.focusedDate||g()().format("YYYY-MM-DD"),t.target.elements.date.value),n=t.target.elements.task.value.trim(),s=t.target.elements.goals?t.target.elements.goals.value:e.props.goalId,r=e.props.handleUpdateTask(a,n,o,s);e.setState((function(){return{error:r}})),r||(t.target.elements.task.value=""),e.props.handleClearFocusedTask()},e.handleChangeCategory=function(t){var a=t.target.value;e.setState((function(){return{selectedCategory:a}}))},e.handleChangeGoal=function(t){var a=t.target.value;e.setState((function(){return{selectedGoal:a}}))},e.getEditTaskCategory=function(){var t=e.props.editTask.goal;return e.props.goals.filter((function(e){if(e.id===t)return e}))[0].category},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.props.editTask.goal;this.setState((function(a){return{selectedCategory:e.getEditTaskCategory(),selectedGoal:t}}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.error&&n.a.createElement("p",null,this.state.error),n.a.createElement("form",{onSubmit:this.handleUpdateTask},n.a.createElement("input",{type:"text",name:"task",defaultValue:this.props.editTask.title}),n.a.createElement("input",{type:"date",name:"date",defaultValue:this.props.editTask.date}),function(){var t=e.props.categories.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.title)}));return n.a.createElement("div",{className:"assign"},n.a.createElement("select",{name:"categories",onChange:e.handleChangeCategory,value:e.state.selectedCategory},t.length>0?t:n.a.createElement("option",{value:"uncategorized"},"Uncategorized")),n.a.createElement("label",{className:"assign__label"},"Category"))}(),function(){var t=e.state.selectedCategory,a=e.props.goals.map((function(e){if(e.category===t)return n.a.createElement("option",{key:e.id,value:e.id},e.title)}));e.props.editTask.goal;return n.a.createElement("div",{className:"assign"},n.a.createElement("select",{name:"goals",onChange:e.handleChangeGoal,value:e.state.selectedGoal},a.length>0?a:n.a.createElement("option",{value:"uncategorized-goal"},"Uncategorized")),n.a.createElement("label",{className:"assign__label"},"Goal"))}(),n.a.createElement("button",null,n.a.createElement("span",{className:"fa fa-plus"}),"Update")))}}]),a}(n.a.Component),z=function(e){return n.a.createElement(I.a,{isOpen:!!e.focusedTask,contentLabel:"Selected Option",onRequestClose:e.handleClearFocusedTask,closeTimeoutMS:500},n.a.createElement("div",null,n.a.createElement("h3",{className:"modal__title"},e.editTask?e.editTask.title:"No selected Task"),n.a.createElement("button",{className:"button",onClick:e.handleClearFocusedTask},"Cancel"),e.editTask&&n.a.createElement(M,{goalId:e.focusedGoal,editTask:e.editTask,handleUpdateTask:e.handleUpdateTask,display:e.display,focusedDate:e.focusedDate,goals:e.goals,categories:e.categories,handleClearFocusedTask:e.handleClearFocusedTask})))},x=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={error:void 0,selectedCategory:"uncategorized",selectedGoal:"uncategorized-goal"},e.handleUpdateFocusedEditGoal=function(t){t.preventDefault();var a=e.props.focusedEditGoal.id,o=(e.props.focusedDate||g()().format("YYYY-MM-DD"),t.target.elements.date.value),n=t.target.elements.title.value.trim(),s=t.target.elements.color.value.trim(),r=t.target.elements.abbrevCode.value.trim(),l=t.target.elements.categories?t.target.elements.categories.value:e.props.categoryId;console.log(l);var c=e.props.handleUpdateFocusedEditGoal(a,n,o,l,s,r);e.setState((function(){return{error:c}})),c||e.props.handleClearFocusedEditGoal()},e.handleChangeCategory=function(t){var a=t.target.value;e.setState((function(){return{selectedCategory:a}}))},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.focusedEditGoal.category;this.setState((function(t){return{selectedCategory:e}}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.error&&n.a.createElement("p",null,this.state.error),n.a.createElement("form",{onSubmit:this.handleUpdateFocusedEditGoal},n.a.createElement("input",{type:"text",name:"title",defaultValue:this.props.focusedEditGoal.title}),n.a.createElement("input",{type:"date",name:"date",defaultValue:this.props.focusedEditGoal.date}),n.a.createElement("input",{type:"text",name:"color",defaultValue:this.props.focusedEditGoal.color}),n.a.createElement("input",{type:"text",name:"abbrevCode",defaultValue:this.props.focusedEditGoal.abbrevCode}),function(){var t=e.props.categories.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.title)}));return n.a.createElement("div",{className:"assign"},n.a.createElement("select",{name:"categories",onChange:e.handleChangeCategory,value:e.state.selectedCategory},t.length>0?t:n.a.createElement("option",{value:"uncategorized"},"Uncategorized")),n.a.createElement("label",{className:"assign__label"},"Category"))}(),n.a.createElement("button",null,n.a.createElement("span",{className:"fa fa-plus"}),"Update")))}}]),a}(n.a.Component),V=function(e){return n.a.createElement(I.a,{isOpen:!!e.focusedEditGoal,contentLabel:"Selected Option",onRequestClose:e.handleClearFocusedEditGoal,closeTimeoutMS:500},n.a.createElement("div",null,n.a.createElement("h3",{className:"modal__title"},e.focusedEditGoal?e.focusedEditGoal.title:"No selected Goal"),n.a.createElement("button",{className:"button",onClick:e.handleClearFocusedEditGoal},"Cancel"),e.focusedEditGoal&&n.a.createElement(x,{categoryId:e.focusedCategory,focusedEditGoal:e.focusedEditGoal,handleUpdateFocusedEditGoal:e.handleUpdateFocusedEditGoal,display:e.display,focusedDate:e.focusedDate,categories:e.categories,handleClearFocusedEditGoal:e.handleClearFocusedEditGoal})))},W=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleChangeFocusDate=function(t){t.preventDefault();var a=e.props.focusedDate?e.props.focusedDate:g()();e.props.handleChangeFocusDate(g()(a).add(1,"d").format("YYYY-MM-DD"))},e.handleTodayDate=function(t){t.preventDefault(),e.props.handleChangeFocusDate(g()().format("YYYY-MM-DD"))},e.handleNextDate=function(t){t.preventDefault();var a=e.props.focusedDate?e.props.focusedDate:g()();e.props.handleChangeFocusDate(g()(a).add(1,"d").format("YYYY-MM-DD"))},e.handlePreviousDate=function(t){t.preventDefault();var a=e.props.focusedDate?e.props.focusedDate:g()();e.props.handleChangeFocusDate(g()(a).subtract(1,"d").format("YYYY-MM-DD"))},e.handleChangeGoalsFilter=function(t){t.preventDefault();var a=t.target.value;"all"===a&&(a=void 0),e.props.changeFocusedGoal(a)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.goals.map((function(t){var a=e.props.categories.filter((function(e){return e.id===t.category}))[0].title;return n.a.createElement("option",{key:t.id,value:t.id},a," - ",t.abbrevCode,"::",t.title)}));return n.a.createElement("div",null,n.a.createElement("h2",null,n.a.createElement("a",{onClick:this.handlePreviousDate},"Previous")," | ",n.a.createElement("a",{onClick:this.handleNextDate},"Next")," | ",n.a.createElement("a",{onClick:this.handleTodayDate},"Today")," "),n.a.createElement("div",{className:"goal-filter"},n.a.createElement("select",{name:"goals",onChange:this.handleChangeGoalsFilter,defaultValue:this.props.focusedGoal},n.a.createElement("option",{key:"all",value:"all"},"All"),t)))}}]),a}(n.a.Component),B=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).filteredTodaysTasks=function(e,t){return e||(e=""),t.filter((function(t,a){if(t.date===e)return t}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"week"},n.a.createElement("div",{className:"week-header-wrapper"},n.a.createElement("h2",null,"Week"),n.a.createElement(W,{focusedDate:this.props.focusedDate,handleChangeFocusDate:this.props.handleChangeFocusDate,goals:this.props.goals,categories:this.props.categories,changeFocusedGoal:this.props.changeFocusedGoal,focusedGoal:this.props.focusedGoal})),n.a.createElement("div",{className:"week-wrapper"},function(){var t,a=[];for(t=0;t<3;t++){var o=g()(e.props.focusedDate).add(t-3,"days").format("YYYY-MM-DD");a.push(n.a.createElement(N,{key:t,tasks:e.props.handleChangeGoalsFilter(e.props.focusedGoal,e.filteredTodaysTasks(o,e.props.tasks)),goalId:e.props.focusedGoal,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleChangeFocusDate:e.props.handleChangeFocusDate,focusedDate:o,handleFocusTask:e.props.handleFocusTask,handleAddTask:e.props.handleAddTask,handleUpdateTask:e.props.handleUpdateTask,display:e.props.display,goals:e.props.goals,categories:e.props.categories,getTaskColor:e.props.getTaskColor}))}for(a.push(n.a.createElement(N,{key:"today",tasks:e.props.handleChangeGoalsFilter(e.props.focusedGoal,e.filteredTodaysTasks(e.props.focusedDate,e.props.tasks)),goalId:e.props.focusedGoal,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleChangeFocusDate:e.props.handleChangeFocusDate,focusedDate:e.props.focusedDate,handleFocusTask:e.props.handleFocusTask,handleUpdateTask:e.props.handleUpdateTask,current:!0,handleAddTask:e.props.handleAddTask,display:e.props.display,goals:e.props.goals,categories:e.props.categories,getTaskColor:e.props.getTaskColor})),t=4,t=4;t<7;t++){var s=g()(e.props.focusedDate).add(t-3,"days").format("YYYY-MM-DD");a.push(n.a.createElement(N,{key:t,tasks:e.props.handleChangeGoalsFilter(e.props.focusedGoal,e.filteredTodaysTasks(s,e.props.tasks)),goalId:e.props.focusedGoal,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleChangeFocusDate:e.props.handleChangeFocusDate,focusedDate:s,handleFocusTask:e.props.handleFocusTask,handleAddTask:e.props.handleAddTask,display:e.props.display,goals:e.props.goals,categories:e.props.categories,getTaskColor:e.props.getTaskColor}))}return a.push(n.a.createElement(N,{key:"uncategorized",tasks:e.props.handleChangeGoalsFilter(e.props.focusedGoal,e.filteredTodaysTasks("",e.props.tasks)),goalId:e.props.focusedGoal,handleCheck:e.props.handleCheck,handleDeleteTask:e.props.handleDeleteTask,handleThumbsDown:e.props.handleThumbsDown,handleChangeFocusDate:e.props.handleChangeFocusDate,focusedDate:"",handleFocusTask:e.props.handleFocusTask,handleUpdateTask:e.props.handleUpdateTask,handleAddTask:e.props.handleAddTask,display:e.props.display,goals:e.props.goals,categories:e.props.categories,getTaskColor:e.props.getTaskColor})),a}()))}}]),a}(n.a.Component),_=function(e){return n.a.createElement("div",null,n.a.createElement("a",{href:function(){var t=JSON.stringify(e.currentState,null,2);return"data:application/json;charset=utf-8,"+encodeURI(t)}(),download:"GobitsState-"+(new Date).toISOString().slice(0,10)},"Download State")," | Import State ",n.a.createElement("input",{type:"file",id:"files",name:"files[]",onChange:function(t){var a=new FileReader;a.readAsText(t.target.files[0]),a.onload=function(t){var o=a.result;e.handleImportState(o)}}}))},L=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var o;Object(l.a)(this,a),(o=t.call(this,e)).setSubtitle=function(){var e=Math.floor(Math.random()*o.state.messages.length),t=o.state.messages[e];o.setState((function(){return{subtitle:t}}))},o.changeFocusedGoal=function(e){o.setState((function(){return{focusedGoal:e}})),o.setSubtitle()},o.changeFocusedCategory=function(e){o.setState((function(){return{focusedCategory:e,focusedGoal:void 0}})),o.setSubtitle()},o.handleAddGoal=function(e,t,a){if(!e)return"Enter valid value to add item";o.setState((function(o){var n=k()();return{goals:o.goals.concat({id:n,title:e,category:a,date:t,completedAt:!1,createdAt:g()().format(),color:void 0,abbrevCode:void 0}),goldAmount:o.goldAmount+1,focusedGoal:n}})),o.setSubtitle()},o.handleAddCategory=function(e){if(!e)return"Enter valid value to add item";o.setState((function(t){var a=k()();return{categories:t.categories.concat({id:a,title:e,createdAt:g()().format()}),goals:t.goals.concat({id:"uncategorized-"+k()(),title:"Uncategorized",category:a,createdAt:g()().format(),color:"black",abbrevCode:void 0}),goldAmount:t.goldAmount+1,focusedCategory:a,focusedGoal:void 0}})),o.setSubtitle()},o.handleAddTask=function(e,t,a,n){if(!e)return"Enter valid value to add item";if(e.includes("::")){var s=e.split("::")[0];e=e.split("::")[1],a=o.state.goals.filter((function(e){return e.abbrevCode===s}))[0].id}a||(a="uncategorized-goal"),"today"===t&&(t=g()().format("YYYY-MM-DD")),void 0===t&&(t=""),o.setState((function(o){return{tasks:o.tasks.concat({id:k()(),title:e,date:t,completedAt:!1,createdAt:g()().format(),rejectedCount:0,goal:a}),goldAmount:o.goldAmount+1}})),o.setSubtitle()},o.handleUpdateTask=function(e,t,a,n){if(!e)return"Enter valid value to add item";n||(n="uncategorized-goal"),"today"===a&&(a=g()().format("YYYY-MM-DD")),o.setState((function(o){var s=o;return s.tasks.filter((function(t){return t.id===e}))[0].title=t,s.tasks.filter((function(t){return t.id===e}))[0].date=a,s.tasks.filter((function(t){return t.id===e}))[0].goal=n,{tasks:s.tasks,goldAmount:o.goldAmount+1}})),o.setSubtitle()},o.handleUpdateFocusedEditGoal=function(e,t,a,n,s,r){var l=void 0;if(o.state.goals.forEach((function(e){e.abbrevCode===r&&(l="This abbrev code has already been used")})),o.state.goals.filter((function(t){return t.id===e}))[0].abbrevCode!==r&&l)return l;o.setState((function(o){var l=o,c=l.goals.filter((function(t){return t.id===e}))[0];return c.title=t,c.date=a,c.category=n,c.color=s,c.abbrevCode=r,{goals:l.goals}}))},o.setGoalStatus=function(e){var t=g()().format(),a=0;return o.state.tasks.forEach((function(o){o.goal===e.id&&(a++,!1===o.completedAt&&(t=!1))})),0===a&&(t=!1),t},o.handleCheck=function(e,t){o.setState((function(a){t||(t=a.tasks.filter((function(t){return t.id===e}))[0].goal);var n=a.tasks.filter((function(t){return t.id===e}))[0].completedAt,s=a.tasks.filter((function(t){return t.id===e}))[0].date,r=a;r.tasks.filter((function(t){return t.id===e}))[0].completedAt=!n&&g()().format(),r.tasks.filter((function(t){return t.id===e}))[0].date=s||n?s:g()().format("YYYY-MM-DD");var l=o.setGoalStatus(r.goals.filter((function(e){return e.id===t}))[0]);return r.goals.filter((function(e){return e.id===t}))[0].completedAt=l,{goals:r.goals,tasks:r.tasks,goldAmount:a.goldAmount+1}})),o.setSubtitle()},o.handleThumbsDown=function(e,t){o.setState((function(a){t||(t=a.tasks.filter((function(t){return t.id===e}))[0].goal);var n=a.tasks.filter((function(t){return t.id===e}))[0].rejectedCount,s=a;s.tasks.filter((function(t){return t.id===e}))[0].rejectedCount=n+1;var r=o.setGoalStatus(s.goals.filter((function(e){return e.id===t}))[0]);return s.goals.filter((function(e){return e.id===t}))[0].completedAt=r,{goals:s.goals,tasks:s.tasks,goldAmount:a.goldAmount+1}})),o.setSubtitle()},o.handleDeleteTask=function(e,t){o.setState((function(a){t||(t=a.tasks.filter((function(t){return t.id===e}))[0].goal);var n=a,s=n.tasks.findIndex((function(t,a){if(t.id===e)return!0}));n.tasks.splice(s,1);var r=o.setGoalStatus(n.goals.filter((function(e){return e.id===t}))[0]);return n.goals.filter((function(e){return e.id===t}))[0].completedAt=r,{goals:n.goals,tasks:n.tasks,goldAmount:a.goldAmount+1}})),o.setSubtitle()},o.handleDeleteGoal=function(e){o.state.focusedGoal===e&&o.setState((function(){return{focusedGoal:void 0}})),o.setState((function(t){var a=t,o=a.goals.findIndex((function(t,a){if(t.id===e)return!0}));return a.tasks.forEach((function(t){t.goal===e&&(t.goal="uncategorized-goal")})),a.goals.splice(o,1),{tasks:a.tasks,goals:a.goals,goldAmount:t.goldAmount+1}})),o.setSubtitle()},o.handleDeleteCategory=function(e){o.state.focusedCategory===e&&o.setState((function(){return{focusedCategory:"uncategorized"}})),o.setState((function(t){var a=t,o=a.categories.findIndex((function(t,a){if(t.id===e)return!0}));return a.categories.splice(o,1),a.goals.forEach((function(t){if(t.category===e)t.category="uncategorized";else if(t.category.includes("uncategorized")){var o=a.goals.findIndex((function(e,a){if(e.id===t.id)return!0}));a.goals.splice(o,1)}})),{categories:a.categories,goals:a.goals,goldAmount:t.goldAmount+1}})),o.setSubtitle()},o.handleClearFocusedTask=function(){o.setState((function(){return{focusedTask:void 0}}))},o.handleClearFocusedEditGoal=function(){o.setState((function(){return{focusedEditGoal:void 0}}))},o.handleFocusTask=function(e){o.setState((function(){return{focusedTask:e}}))},o.handleFocusEditGoal=function(e){o.setState((function(){return{focusedEditGoal:e}}))},o.filteredGoals=function(){return o.state.focusedCategory?o.state.goals.filter((function(e,t){if(e.category===o.state.focusedCategory)return e})):o.state.goals},o.filteredTasks=function(){return o.state.focusedGoal?o.state.tasks.filter((function(e,t){if(e.goal===o.state.focusedGoal)return e})):o.state.tasks},o.handleChangeGoalsFilter=function(e,t){return t.filter((function(t,a){return void 0===e||t.goal===e?t:void 0}))},o.filteredTodaysTasks=function(e){return e||(e=g()().format("YYYY-MM-DD")),o.state.tasks.filter((function(t,a){if(t.date===e)return t}))},o.getTaskColor=function(e){var t=e.goal,a=o.state.goals.filter((function(e,a){if(e.id===t)return e}));try{return a[0].color}catch(n){return}},o.displayTasks=function(){if(o.state.focusedGoal)return n.a.createElement("div",null,n.a.createElement(b,{tasks:o.filteredTasks(),goalId:o.state.focusedGoal,handleCheck:o.handleCheck,handleDeleteTask:o.handleDeleteTask,handleThumbsDown:o.handleThumbsDown,handleFocusTask:o.handleFocusTask,handleUpdateTask:o.handleUpdateTask,display:o.state.display,getTaskColor:o.getTaskColor}),n.a.createElement(y,{goalId:o.state.focusedGoal,handleAddTask:o.handleAddTask}))},o.displayGoals=function(){if(o.state.focusedCategory)return n.a.createElement("div",null,n.a.createElement(w,{goals:o.filteredGoals(),focusedGoal:o.state.focusedGoal,category:o.state.focusedCategory,changeFocusedGoal:o.changeFocusedGoal,handleDeleteGoal:o.handleDeleteGoal,handleFocusEditGoal:o.handleFocusEditGoal}),n.a.createElement(G,{category:o.state.focusedCategory,handleAddGoal:o.handleAddGoal}))},o.displayDashboard=function(){return n.a.createElement("div",{className:"dashboard row"},n.a.createElement("div",{className:"col-sm-4"},n.a.createElement(D,{focusedCategory:o.state.focusedCategory,categories:o.state.categories,changeFocusedCategory:o.changeFocusedCategory,handleDeleteCategory:o.handleDeleteCategory}),n.a.createElement(E,{handleAddCategory:o.handleAddCategory})),n.a.createElement("div",{className:"col-sm-4"},o.displayGoals()),n.a.createElement("div",{className:"col-sm-4"},o.displayTasks()))},o.handleChangeFocusDate=function(e){o.setState((function(){return{focusedDate:e}}))},o.displayWeek=function(){return n.a.createElement(B,{tasks:o.state.tasks,goalId:o.state.focusedGoal,handleCheck:o.handleCheck,handleDeleteTask:o.handleDeleteTask,handleThumbsDown:o.handleThumbsDown,handleChangeFocusDate:o.handleChangeFocusDate,handleUpdateTask:o.handleUpdateTask,focusedDate:o.state.focusedDate,handleFocusTask:o.handleFocusTask,handleAddTask:o.handleAddTask,display:o.state.display,goals:o.state.goals,categories:o.state.categories,getTaskColor:o.getTaskColor,focusedGoal:o.state.focusedGoal,changeFocusedGoal:o.changeFocusedGoal,handleChangeGoalsFilter:o.handleChangeGoalsFilter})},o.displayToday=function(e){return n.a.createElement("div",{className:"today-wrapper"},n.a.createElement("h2",null,"Today"),n.a.createElement(W,{focusedDate:o.state.focusedDate,handleChangeFocusDate:o.handleChangeFocusDate,goals:o.state.goals,categories:o.state.categories,changeFocusedGoal:o.changeFocusedGoal,focusedGoal:o.state.focusedGoal}),n.a.createElement(N,{tasks:o.handleChangeGoalsFilter(o.state.focusedGoal,o.filteredTodaysTasks(o.state.focusedDate)),goalId:o.state.focusedGoal,handleCheck:o.handleCheck,handleDeleteTask:o.handleDeleteTask,handleThumbsDown:o.handleThumbsDown,handleUpdateTask:o.handleUpdateTask,focusedDate:o.state.focusedDate,handleFocusTask:o.handleFocusTask,handleAddTask:o.handleAddTask,display:o.state.display,goals:o.state.goals,categories:o.state.categories,getTaskColor:o.getTaskColor}))},o.handleChangeView=function(e){o.setState((function(){return{display:e,focusedDate:g()().format("YYYY-MM-DD")}}))},o.handleImportState=function(e){try{var t=JSON.parse(e);t&&o.setState((function(){return t}))}catch(a){console.log("error",a)}},o.displayCurrentView=function(){return"dashboard"===o.state.display?o.displayDashboard():"week"===o.state.display?o.displayWeek():o.displayToday()},o.handleCheck=o.handleCheck.bind(Object(h.a)(o));var s={subtitle:"Get your life together",display:"today",focusedDate:void 0,messages:["Get your life together","Aren't you better than this?","Seriously, Aren't you better than this?","Life really isn't that hard; why are you having so much trouble","Other people don't need a to do list; they just do stuff","Get it together!","Stopping making to do lists and just do your work!","Why are you have so much trouble getting stuff done it?"],focusedTask:void 0,focusedGoal:void 0,focusedEditGoal:void 0,focusedCategory:void 0,categories:[{id:"uncategorized",title:"Uncategorized"}],goals:[{id:"uncategorized-goal",title:"Uncategorized",category:"uncategorized"}],tasks:[],user:{name:"",email:""},goldAmount:0};return o.state=s,o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.user&&S.ref(this.props.user.uid).once("value").then((function(t){var a=t.val();a?e.setState((function(){return a})):e.setState({user:{email:e.props.user.email,name:e.props.user.email}})})).catch((function(e){console.log("error",e)}))}},{key:"componentDidUpdate",value:function(){this.props.user&&S&&this.state&&S.ref(this.props.user.uid).set(JSON.parse(JSON.stringify(this.state)))}},{key:"render",value:function(){var e=this;return console.log("state at render",this.state),n.a.createElement("div",null,n.a.createElement(j,{title:"Gobits",subtitle:this.state.subtitle,user:this.props.user&&this.props.user.email}),n.a.createElement("hr",null),n.a.createElement(Y,{currentView:this.state.display,changeView:this.handleChangeView}),n.a.createElement("hr",null),this.displayCurrentView(),n.a.createElement(v,{goldAmount:this.state.goldAmount}),n.a.createElement(z,{handleClearFocusedTask:this.handleClearFocusedTask,editTask:this.state.tasks.filter((function(t){return t.id===e.state.focusedTask}))[0],focusedTask:this.state.focusedTask,goalId:this.state.focusedGoal,handleUpdateTask:this.handleUpdateTask,display:this.state.display,focusedDate:this.state.focusedDate,goals:this.state.goals,categories:this.state.categories}),n.a.createElement(V,{handleClearFocusedEditGoal:this.handleClearFocusedEditGoal,focusedEditGoal:this.state.goals.filter((function(t){return t.id===e.state.focusedEditGoal}))[0],handleUpdateFocusedEditGoal:this.handleUpdateFocusedEditGoal,display:this.state.display,focusedDate:this.state.focusedDate,categories:this.state.categories}),n.a.createElement(_,{currentState:this.state,handleImportState:this.handleImportState}))}}]),a}(n.a.Component),R=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={goals:["be a gobit!","run a 10k.","call mom more.","get a promotion.","buy a house."],currentGoalIndex:0},e.timer=function(){e.setState({currentGoalIndex:e.getNewIndex()})},e.getNewIndex=function(){return Math.floor(Math.random()*e.state.goals.length)},e.handleLogin=function(e){return e.preventDefault(),A.auth().signInWithPopup(O)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=setInterval(this.timer,1e3);this.setState({intervalId:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"render",value:function(){return n.a.createElement("div",{className:"goalBox"},n.a.createElement("p",null,n.a.createElement("span",{className:"goalStagnant"},"my goal is to"),n.a.createElement("span",{id:"goalHop"},this.state.goals[this.state.currentGoalIndex])),n.a.createElement("div",{className:"center-btn"},n.a.createElement("a",{className:"lets-gobit-btn",onClick:this.handleLogin},"login to gobit!")))}}]),a}(n.a.Component),P=a(73),J=p()(),H=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(P.b,{history:J},n.a.createElement("div",null,n.a.createElement(P.a,{path:"/",component:R,exact:!0}),n.a.createElement(P.a,{path:"/me",render:function(t){return n.a.createElement(L,Object.assign({},t,{user:e.props.user}))},exact:!0})))}}]),a}(n.a.Component),q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var X=!1,Q=function(e){X||(r.a.render(n.a.createElement(H,{user:e}),document.getElementById("root")),X=!0)};A.auth().onAuthStateChanged((function(e){e?(console.log("log in",e),Q(e),"/"===J.location.pathname&&J.push("me")):(console.log("logged out"),Q(),J.push("/"))})),function(e){if("serviceWorker"in navigator){if(new URL("/gobits",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/gobits","/service-worker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.cfb4c8a0.chunk.js.map